<!--
Program       index.html 
Author        Gordon Moore
Date          15 May 2020
Description   A JavaScript implementation of Geoff Cummings ESCI sampling simulator - The New Statistics

Version history
0.1.0     Initial version
0.2.0     Refactored. Used D3 for parts
...
0.2.8     2020-05-20 Add in capture of mu and show mu line checkboxes, various small re-orgs/re-wording of display items
0.2.9     2020-05-20 Added dialog box for version information
0.2.10    2020-05-23 Slight adjustment for capture of next mean section

0.3.0     nothing
0.3.1     nothing
0.3.2     nothing
0.3.3     2020-06-06 Made changes to layout, css and js to allow left panels to flow properly (I hope)
0.3.4     2020-06-08 Minor changes to wording and layout
0.3.5
-->

<!DOCTYPE html>

<html lang="en">

  <head>
    <meta charset=utf-8>
    <title>ESCI-JS</title>

    <!-- stylesheets -->
    <link href=./css/esci.css rel=stylesheet>

    <!-- scripts -->
    <script src=https://code.jquery.com/jquery-3.5.0.js
            integrity="sha256-r/AaFHrszJtwpe+tHyNi/XCfMxYpbsRg2Uqn0x3s2zc=" 
            crossorigin="anonymous">
    </script>

    <!-- <script src=https://cdnjs.cloudflare.com/ajax/libs/svg.js/3.0.16/svg.min.js defer></script> --> 

    <script src=https://cdn.jsdelivr.net/npm/jstat@latest/dist/jstat.min.js defer></script>

    <script src=https://d3js.org/d3.v5.min.js defer></script>
    
    <script src=./js/esci.js defer></script>

  </head>

  <body>
    
    <!-- <div id=pagewrapper> -->

      <div id=main>  

        <div id=control>

          <!-----------------------------------------Header-------------------------------------->
          <div id=header>
            <div id=logo><img id=logoimg src=./images/logo.png></div>
            <div id=mainheading>ESCI-JS</div>
            <div id=subheading>CI Jumping</div>
          </div>

          <!-------------------------------------------Section 1 The Population---------------------------------------------------->
          <div id=distribution>
            <div>1. The Population</div>
            <div id=musliderdiv>
              <div><span class=greek>&mu;</span></div>
              <input type="range" min="20" max="80" value="50" class="slider" id=muslider>
              <div id=muvalue><input id=muvaluetext type=text size=3 value=50></div>
            </div>
            <div id=sigmasliderdiv>
              <div><span class=greek>&sigma;</span></div>
              <input type="range" min="5" max="50" value="20" class="slider" id="sigmaslider">
              <div id=sigmavalue><input id=sigmavaluetext type=text size=3 value=20></div>
            </div>

            <div id=shape>
              <div><input type=radio id=normal  name=shape value=normal checked=checked><label for=normal>Normal</label></div>
              <div><input type=radio id=rectangular name=shape value=rectangular><label for=rectangular>Rectangular</label><br></div>
              <div>
                <input type=radio id=skew name=shape value=skew><label for=skew>Skew</label>
                <select id=skewvalue> 
                  <option value=0.0>0.0</option>
                  <option value=0.1 selected=selected>0.1</option>
                  <option value=0.2>0.2</option>
                  <option value=0.3>0.3</option>
                  <option value=0.4>0.4</option>
                  <option value=0.5>0.5</option>
                  <option value=0.6>0.6</option>
                  <option value=0.7>0.7</option>
                  <option value=0.8>0.8</option>
                  <option value=0.9>0.9</option>
                  <option value=1.0>1.0</option>                
                </select>
              </div>
            </div>
          </div>

          <!--------------------------------------Section 2 Click to Display Popn, sd lines, fill random------------------------>
          <div id=displayoptions>
            <div>2. Click to display</div>
            <input type=checkbox id=popn name=popn value=popn><label for=popn>Population</label>
            <input type=checkbox id=sdlines name=sdlines value=sdlines><label for=sdlines>SD Lines</label>
            <input type=checkbox id=fillpopn name=fillpopn value=fillpopn><label for=fillpopn>Fill Random</label>
          </div>

          <!------------------------------------------Section 3 Controls Clear, Take Sample, Run Freely-------------------------------------------------------->
          <div id=runcontrols>
            <div>3. Controls</div>
            <div id=runstop> 
              <div id=clearsample class=runbuttons>Clear </div>
              <div id=takesample  class=runbuttons>Take Sample</div>
              <div id=runfreely   class=runbuttons>Run Stop</div>
              <input type="range" min="0" max="500" value="100" class="sliderspeed" id=speed>
            </div>
          </div>

          <!-------------------------------------------Section 4 Samples--------------------------------------------------------->
          <div id=samplessection>
            <div id=samples>
              <div id=samplelabel>4. Samples: </div>
              <div><span class=italic>N</span></div>
              <select id=samplesselected>
                <option value=1>1</option>
                <option value=2>2</option>
                <option value=3>3</option>
                <option value=5>5</option>
                <option value=10>10</option>
                <option value=20 selected=selected>20</option>  
                <option value=50>50</option>
                <option value=100>100</option>                
              </select>
            </div>


            <div id=latestsamplelabel></div>
            <div id=nosamples>Number of samples : <span id=nosamplesx>0</span></div>  

            <div id=latestsamples>
              <div><span>Mean </span><span class=italic>M</span> : <span id=samplemean>0</span></div>
              <div><span>SD </span><span class=italic>s</span> : <span id=samplesd>0</span></div>
            </div>

            <div id=latestmoes>
              <div id=moep>MoE (population) : <span id=popnmoe>0</span></div>
              <div id=moes>MoE (sample) : <span id=samplemoe>0</span></div>
            </div>

            <!-----------------------Data points and dropping sample means------------->
            <div id=datapointssection>
              <input type=checkbox id=datapoints name=datapoints value=datapoints><label for=datapoints>Data points)</label>
              <input type=checkbox id=samplemeans name=samplemeans value=samplemeans><label for=samplemeans>Sample Means</label>
              <input type=checkbox id=droppingmeans name=droppingmeans value=droppingmeans><label for=droppingmeans>Dropping Means</label>
            </div>
          </div>  

          <!-----------------------------------------5. Mean Heap Section---------------------------------------------------------------->
          <div id=heapsection>
            5. Mean Heap
            <div><input type=checkbox id=meanheap    name=meanheap    value=meanheap    ><label for=meanheap>Mean heap</label></div>
            <div><input type=checkbox id=samplecurve name=samplecurve value=samplecurve ><label for=samplecurve>Sampling distribution curve</label></div>
            <div><input type=checkbox id=samplelines name=samplelines value=samplelines ><label for=samplelines>SE lines</label></div>
            <div><input type=checkbox id=plusminusmoe name=plusminusmoe value=plusminusmoe><label for=plusminusmoe>&plusmn; MoE around <span class=greek>&mu;</span></div>
          </div>

          <!----------------------------------------6. Confidence Intervals----------------------------------------------------------->
          <div id=CIsection>
            6. Confidence Intervals
            <div>CI%  C
              <select id=CI>
                <option value=0.2>80%</option>
                <option value=0.1>90%</option>
                <option value=0.05 selected>95%</option>
                <option value=0.01>99%</option>
                <option value=0.001>99.9%</option>
                <option value=0>Custom</option>
              </select>
              <input type=text id=CIIntervalText>
            </div>
            <div id=CIcontrol>
              <div><input type=checkbox id=showmoe name=showmoe value=showmoe><label for=showmoe>CIs </label></div>
              <div id=knownunknown>Assume <span class=greek>&sigma;</span> is </div>
              <div><input type=radio id=moepopn   name=moe value=moepopn checked=checked><label for=moepopn >Known </label></div>
              <div><input type=radio id=moesample name=moe value=moesample><label for=moesample>Unknown</label></div>
            </div>
          </div>

          <!---------------------------------------7. Capture of mean-------------------------------------------------->
          <div id=captureofmean>
            <div>7. Capture of <span class=greek>&mu;</span></div>
            <div><input type=checkbox id=capturemuline name=capturemuline value=capturemuline><label for=capturemuline><span class=greek>&mu;</span> line</label></div>
            <div><input type=checkbox id=captureofmu name=captureofmu value=captureofmu><label for=captureofmu>Capture of <span class=greek>&mu;</span></label></div>
            <div id=heapstats>
              <div>Heap mean : <span id=xbarhp>0.0</span></div>
              <div>Heap se : <span id=sehp>0.0</span></div>
            </div>
            <div id=capturestats>
              <div>Number capturing <span class=greek>&mu;</span> : <span id=captured>0</span></div>
              <div>Samples taken : <span id=nosamplesy>0</span></div>
            </div>
            <div>Percent capturing <span class=greek>&mu;</span> : <span id=capturedpercent>0.0<span>%</span></div>
          </div>

          <!---------------------------------------8. Capture of next mean--------------------------------------------->
          <div id=capturesection> 
            <div><label for=capturenextmean>8. Capture of next mean</label><input type=checkbox id=capturenextmean name=capturenextmean value=capturenextmean></div>
            <div id=capturenextmeangrid>
              <div id=numbercapturingnextmean>Number capturing next mean : </div><div id=nocapturingnextmean>0</div>
              <div id=percentcapturingnextmean>Percent capturing next mean :</div><div id=pccapturingnextmean>0</div>
            </div>
          </div>

          <!-----------------------------------------Blank div to allow for full height of panels ----------------------->

          <!-- <div id=filler>
            <button id=test>Test</button>
          </div> -->

        </div>


        <!---------------------------------Right hand display section----------------------------------------------------->
        <div id=displaysection>
          <div id=displaypdf></div>
          <div id=displaysample></div>
        </div>

      </div>  <!-- End of main section -->
    <!-- </div> -->

    <!-- a version dialog box - fired by clicking on logo -->
    <dialog id="dialogversion" open>    
    </dialog> 
  </body>
</html>
